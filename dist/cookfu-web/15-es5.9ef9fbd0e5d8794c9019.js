function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"/k8c":function(t,e,n){"use strict";n.r(e);var r=n("ofXK"),i=n("bhfF"),a=n("3sZV"),o=n("3Pt+"),c=n("pKmL"),s=n("PCNd"),b=n("YUSg"),u=n("tyNb"),l=n("fXoL"),g=n("y8gV"),d=n("9Yh0"),f=n("HG92"),p=n("6trG"),v=n("aZ8m"),h=n("aF9I");function m(t,e){1&t&&(l.Ub(0,"div",13),l.Ub(1,"div",14),l.Qb(2,"img",15),l.Tb(),l.Ub(3,"div",16),l.Ub(4,"h1",17),l.Ic(5,"Oops! No Favourites yet."),l.Tb(),l.Ub(6,"p",17),l.Ic(7,"You haven't marked in store as favourite."),l.Tb(),l.Tb(),l.Tb())}function y(t,e){1&t&&(l.Ub(0,"div",18),l.Ub(1,"div",19),l.Ub(2,"span",20),l.Ic(3,"Loading..."),l.Tb(),l.Tb(),l.Tb())}var _=function(t){return["/profile",t]};function C(t,e){if(1&t&&(l.Ub(0,"div",22),l.Ub(1,"div",8),l.Ub(2,"div",23),l.Ub(3,"div",24),l.Ub(4,"a",25),l.Qb(5,"img",26),l.Tb(),l.Tb(),l.Ub(6,"div",27),l.Ub(7,"h5"),l.Ub(8,"a",6),l.Ic(9),l.Tb(),l.Tb(),l.Ub(10,"span"),l.Ic(11),l.Tb(),l.Ub(12,"ul",28),l.Ub(13,"li",29),l.Qb(14,"i",30),l.Ic(15),l.Tb(),l.Ub(16,"li",29),l.Qb(17,"i",31),l.Ic(18),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Ub(19,"div",32),l.Ub(20,"div",33),l.Ub(21,"div",34),l.Ub(22,"div",35),l.Ub(23,"p",36),l.Qb(24,"i",37),l.Ic(25," Favorited"),l.Tb(),l.Ub(26,"a",38),l.Ic(27,"Read more"),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb()),2&t){var n=e.$implicit,r=l.kc(2);l.Cb(4),l.qc("routerLink",l.tc(9,_,n.store.id)),l.Cb(1),l.qc("src",n.store.image_url,l.Dc),l.Cb(3),l.qc("routerLink",l.tc(11,_,n.store.id)),l.Cb(1),l.Jc(n.store.name),l.Cb(2),l.Jc(r.getCategoriesTitle(n.store)),l.Cb(4),l.Lc(" Min ",r.currency," ",n.store.minimum_order,""),l.Cb(3),l.Kc(" ",n.store.delivery_time," mins."),l.Cb(8),l.qc("routerLink",l.tc(13,_,n.store.id))}}function T(t,e){if(1&t&&(l.Ub(0,"div"),l.Hc(1,C,28,15,"div",21),l.Tb()),2&t){var n=l.kc();l.Cb(1),l.qc("ngForOf",n.favourites)}}var U,P,w=function(){return["/"]},k=[{path:"",component:(U=function(){function t(e,n,r,i,a){var o=this;_classCallCheck(this,t),this.router=e,this.authenticationService=n,this.restaurantClient=r,this.settingService=i,this.restaurantService=a,this.favourites=[],this.totalResults=0,this.currentPage=1,this.lastPage=1,this.loading=!0,this.noResult=!1,this.authenticationService.loggedOut$.subscribe((function(t){return o.router.navigate(["signin"],{queryParams:{returnUrl:o.router.url}})}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.currency=this.settingService.getCurrency(),this.fetchFavourites(this.currentPage)}},{key:"fetchFavourites",value:function(t){var e=this;this.loading=!0,this.currentPage=t,this.restaurantClient.favourites(this.currentPage).subscribe((function(n){var r;e.loading=!1,e.totalResults=n.total,1==t?(0==n.data.length&&(e.noResult=!0),e.favourites=n.data):(r=e.favourites).push.apply(r,_toConsumableArray(n.data)),e.lastPage=n.last_page}),(function(t){e.loading=!1,e.noResult=!0}))}},{key:"onScroll",value:function(){this.currentPage!=this.lastPage&&this.fetchFavourites(this.currentPage+1)}},{key:"getCategoriesTitle",value:function(t){return this.restaurantService.categoriesTitle(t)}}]),t}(),U.\u0275fac=function(t){return new(t||U)(l.Pb(u.c),l.Pb(g.a),l.Pb(d.a),l.Pb(f.a),l.Pb(p.a))},U.\u0275cmp=l.Jb({type:U,selectors:[["favourite-page"]],decls:21,vars:5,consts:[["id","page_favorites"],["data-animsition-in","fade-in","data-animsition-out","fade-out",1,"site-wrapper","animsition"],[1,"page-wrapper"],[1,"breadcrumb","mb-4"],[1,"container"],[1,"active",3,"routerLink"],[3,"routerLink"],[1,"restaurants-page"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],["class","empty_view mx-auto",4,"ngIf"],["class","d-flex justify-content-center loader",4,"ngIf"],[4,"ngIf"],[1,"empty_view","mx-auto"],[1,"img_box"],["src","assets/images/no_search.png",1,"img-fluid"],[1,"text_box"],[1,"text-center"],[1,"d-flex","justify-content-center","loader"],["role","status",1,"spinner-border"],[1,"sr-only"],["class","bg-gray restaurant-entry",4,"ngFor","ngForOf"],[1,"bg-gray","restaurant-entry"],[1,"col-sm-12","col-md-12","col-lg-8","text-center","text-sm-left"],[1,"entry-logo"],[1,"img-fluid",3,"routerLink"],[3,"src"],[1,"entry-dscr"],[1,"list-inline"],[1,"list-inline-item"],[1,"fa","fa-check-circle-o"],[1,"fa","fa-motorcycle"],[1,"col-sm-12","col-md-12","col-lg-4","text-center"],[1,"right-content","bg-white"],[1,"right-review"],[1,"rating-block"],[1,"d-flex","align-items-center","mx-auto","pb-4","pt-1",2,"width","fit-content"],[1,"fa","fa-heart","text-primary","pr-2"],[1,"btn","theme-btn-dash",3,"routerLink"]],template:function(t,e){1&t&&(l.Ub(0,"div",0),l.Ub(1,"div",1),l.Qb(2,"app-header"),l.Ub(3,"div",2),l.Ub(4,"div",3),l.Ub(5,"div",4),l.Ub(6,"ul"),l.Ub(7,"li"),l.Ub(8,"a",5),l.Ic(9,"Home"),l.Tb(),l.Tb(),l.Ub(10,"li"),l.Ub(11,"a",6),l.Ic(12,"My Favorite"),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Ub(13,"section",7),l.Ub(14,"div",4),l.Ub(15,"div",8),l.Ub(16,"div",9),l.Hc(17,m,8,0,"div",10),l.Hc(18,y,4,0,"div",11),l.Hc(19,T,2,1,"div",12),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Qb(20,"app-footer"),l.Tb(),l.Tb(),l.Tb()),2&t&&(l.Cb(8),l.qc("routerLink",l.sc(4,w)),l.Cb(9),l.qc("ngIf",e.noResult&&!e.loading),l.Cb(1),l.qc("ngIf",e.loading),l.Cb(1),l.qc("ngIf",!e.loading&&!e.noResult))},directives:[v.a,u.d,r.k,h.a,r.j],styles:[".page-wrapper[_ngcontent-%COMP%]{background:#fff}.page-wrapper[_ngcontent-%COMP%]   .empty_view[_ngcontent-%COMP%]   .img_box[_ngcontent-%COMP%]{width:300px;margin:0 auto}.page-wrapper[_ngcontent-%COMP%]   .empty_view[_ngcontent-%COMP%]   .text_box[_ngcontent-%COMP%]{padding-bottom:30px}.page-wrapper[_ngcontent-%COMP%]   .empty_view[_ngcontent-%COMP%]   .text_box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#cfd1d2;font-weight:500;font-size:27px}.page-wrapper[_ngcontent-%COMP%]   .empty_view[_ngcontent-%COMP%]   .text_box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#dedfe1;padding-bottom:20px}.page-wrapper[_ngcontent-%COMP%]   .empty_view[_ngcontent-%COMP%]   .text_box[_ngcontent-%COMP%]   .theme-btn[_ngcontent-%COMP%]{display:block!important}"]}),U)}],x=((P=function t(){_classCallCheck(this,t)}).\u0275mod=l.Nb({type:P}),P.\u0275inj=l.Mb({factory:function(t){return new(t||P)},imports:[[u.e.forChild(k)],u.e]}),P);n.d(e,"FavouriteModule",(function(){return M}));var O,M=((O=function t(){_classCallCheck(this,t)}).\u0275mod=l.Nb({type:O}),O.\u0275inj=l.Mb({factory:function(t){return new(t||O)},providers:[],imports:[[o.b,a.b,r.b,i.b,b.c,b.e,c.a,s.a,x]]}),O)}}]);